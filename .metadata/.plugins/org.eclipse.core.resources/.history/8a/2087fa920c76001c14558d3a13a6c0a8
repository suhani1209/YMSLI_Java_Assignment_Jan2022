package com.day2.q2;

import java.util.Scanner;

class Book{
	String bookTitle;
	String author;
	String ISBN;
	int numOfCopies;
	public Book(String title,String auth,String isbn,int num) {
		this.bookTitle=title;
		this.author=auth;
		this.ISBN=isbn;
		this.numOfCopies=num;
	}
	public void display()
	{
		System.out.println(bookTitle+"-"+author+"-"+ISBN+"-"+numOfCopies);
	}
}

class BookStore{
	String bookStoreName;
	Book[] books;
	static int counter;
	public BookStore(String name) {
		this.bookStoreName=name;
		books=new Book[10];
		counter=0;
	}
	void display() {
		int i=0;
		while(i<counter)
		{
			Book b=books[i];
			b.display();
			i++;
		}
	}
	void sell(String bookTitle, int noOfCopies)
	{
		int i=0;
		boolean found=false;
		while(i<counter)
		{
			Book b=books[i];
			if(b.bookTitle == bookTitle ) {
				b.numOfCopies--;
				System.out.println("Book sold...");
				found=true;
				break;
			}
			i++;
		}
		if(found==false)
		{
			System.out.println("Book does not exist in the "+bookStoreName+" Book Store");
		}
	}
	void order(String isbn, int numOfCopies)
	{
		boolean bookFound=false;
		for(int i=0;i<counter;i++) {
			if(books[i].ISBN == isbn)
			{
				books[i].numOfCopies+=numOfCopies;
				System.out.println("Book ordered..");
				bookFound=true;
				break;
			}
		}
		if(bookFound==false)
		{
			System.out.println("Book does not exist in book store.. Add new book");
			Scanner sc=new Scanner(System.in);
			System.out.print("Enter book title: ");
			String title=sc.next();
			System.out.print("Enter author: ");
			String auth=sc.next();
			books[counter]=new Book(title,auth,isbn,numOfCopies);
			counter++;
			System.out.println("New book added to book store...");
		}
	}
}
public class BookStoreApp {
	public static void main(String[] args) {
		System.out.println("option 1 Display option 2 order option 3 sell");
		Scanner scan=new Scanner(System.in);
		BookStore bkSt=new BookStore("MybookStore");
		int ch=scan.nextInt();
		if(ch==1)
		{
			System.out.println("Books in the book store are listed as :");
			bkSt.display();
		}
		else if(ch==2)
		{
			System.out.println("Order a book..");
			System.out.print("Enter isbn");
			String isbnNo=scan.next();
			System.out.print("Enter number of copies");
			int num=scan.nextInt();
			bkSt.order(isbnNo, num);
		}
		else if(ch==3)
		{
			System.out.println("Sell a book..");
			System.out.print("Enter book title");
			String t=scan.next();
			System.out.println("Enter number of copies");
			int n=scan.nextInt();
			
			bkSt.sell(t, n);		
			
		}
	}
}
